# ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†è¦ç´„å®šç¾©
# ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¯¾ã—ã¦é©ç”¨ã•ã‚Œã‚‹è¦ç´„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å®šç¾©ã—ã¾ã™
# ClaudeCodeãŒã“ã‚Œã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹éš›ã«ã€è¦ç´„ç¢ºèªã‚’ä¿ƒã—ã¾ã™

rules:
  - name: "Vibesãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¦ç´„"
    patterns:
      - "**/docs/**/*.md"
      - "**/vibes/docs/**/*.md"
      - "vibes/docs/**/*.md"
      - "**/*.md" # å…¨mdãƒ•ã‚¡ã‚¤ãƒ«å¯¾å¿œï¼ˆæœ€ã‚‚åŒ…æ‹¬çš„ï¼‰
      - "docs/**/*.md"
    severity: "block" # block: å®Œå…¨ãƒ–ãƒ­ãƒƒã‚¯, warn: è­¦å‘Šã®ã¿
    token_threshold: 15000 # é‡è¦ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¦ç´„ã¯ä½ã„é–¾å€¤
    # åŸºæœ¬ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆç°¡æ½”ç‰ˆï¼‰
    message: |
      ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ï½¤  @vibes/docs/rules/vibes_documentation_standards.md ã‚’ã‚ˆãç¢ºèªã—å¾“ã†ã“ã¨
      ä½œæ¥­ã‚’ç¶šã‘ã‚‹ãŸã‚ã«ã¯ï½¤ä¸Šè¨˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªã—ãŸã“ã¨ã‚’ç¤ºã—ã¦ãã ã•ã„

  # TrackerHierarchyå®Ÿè£…è¦ç´„
  - name: "TrackerHierarchyå®Ÿè£…è¦ç´„"
    patterns:
      - "**/app/models/kanban/tracker_hierarchy.rb"
      - "**/app/models/concerns/kanban/issue_hierarchy.rb"
      - "**/app/controllers/kanban/hierarchy_controller.rb"
      - "**/db/migrate/*_create_kanban_trackers.rb"
      - "**/assets/javascripts/kanban/utils/TrackerHierarchy.js"
      - "**/assets/javascripts/kanban/components/HierarchyTree.jsx"
    severity: "block"
    token_threshold: 15000
    message: |
      ğŸ“‹ TrackerHierarchyå®Ÿè£…å‰ã«æŠ€è¡“ä»•æ§˜æ›¸ã¨æ—¢å­˜è¦ç´„ã‚’ç¢ºèªã—ã¦ãã ã•ã„
      å¿…èª­: @vibes/logics/tracker_hierarchy_implementation.md
      è¿½åŠ ç¢ºèª: @vibes/docs/rules/controller_standards.md (Controllerå®Ÿè£…æ™‚)
      è¿½åŠ ç¢ºèª: @vibes/docs/rules/service_standards.md (Serviceå®Ÿè£…æ™‚)
      Epicâ†’Featureâ†’UserStoryâ†’Task/Testéšå±¤åˆ¶ç´„ã®å®Ÿè£…è¦ä»¶ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’ç¶šã‘ã¦ãã ã•ã„

  # VersionManagementå®Ÿè£…è¦ç´„
  - name: "VersionManagementå®Ÿè£…è¦ç´„"
    patterns:
      - "**/app/services/kanban/version_propagation_service.rb"
      - "**/app/models/concerns/kanban/version_management.rb"
      - "**/app/controllers/kanban/versions_controller.rb"
      - "**/assets/javascripts/kanban/components/VersionBar.jsx"
      - "**/assets/javascripts/kanban/utils/VersionAPI.js"
      - "**/assets/javascripts/kanban/components/VersionAssignmentModal.jsx"
    severity: "block"
    token_threshold: 15000
    message: |
      ğŸ“‹ VersionManagementå®Ÿè£…å‰ã«æŠ€è¡“ä»•æ§˜æ›¸ã‚’ç¢ºèªã—ã¦ãã ã•ã„
      å¿…èª­: @vibes/logics/version_management_implementation.md
      UserStoryã¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å‰²å½“ã¨å­è¦ç´ è‡ªå‹•ä¼æ’­ã®å®Ÿè£…è¦ä»¶ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’ç¶šã‘ã¦ãã ã•ã„

  # AutoGenerationå®Ÿè£…è¦ç´„
  - name: "AutoGenerationå®Ÿè£…è¦ç´„"
    patterns:
      - "**/app/services/kanban/test_generation_service.rb"
      - "**/app/services/kanban/bug_relation_service.rb"
      - "**/app/models/concerns/kanban/auto_generation.rb"
      - "**/app/jobs/kanban/test_generation_job.rb"
      - "**/app/jobs/kanban/bug_relation_job.rb"
      - "**/app/controllers/kanban/auto_generation_controller.rb"
      - "**/assets/javascripts/kanban/components/TestGenerationButton.jsx"
      - "**/assets/javascripts/kanban/utils/AutoGenerationAPI.js"
    severity: "block"
    token_threshold: 15000
    message: |
      ğŸ“‹ AutoGenerationå®Ÿè£…å‰ã«æŠ€è¡“ä»•æ§˜æ›¸ã‚’ç¢ºèªã—ã¦ãã ã•ã„
      å¿…èª­: @vibes/logics/auto_generation_implementation.md
      Testè‡ªå‹•ç”Ÿæˆã¨blocksé–¢ä¿‚ä½œæˆã®å®Ÿè£…è¦ä»¶ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’ç¶šã‘ã¦ãã ã•ã„

  # KanbanUIå®Ÿè£…è¦ç´„
  - name: "KanbanUIå®Ÿè£…è¦ç´„"
    patterns:
      - "**/assets/javascripts/kanban/KanbanApp.jsx"
      - "**/assets/javascripts/kanban/components/KanbanBoard.jsx"
      - "**/assets/javascripts/kanban/components/EpicSwimlane.jsx"
      - "**/assets/javascripts/kanban/components/KanbanColumn.jsx"
      - "**/assets/javascripts/kanban/components/IssueCard.jsx"
      - "**/assets/javascripts/kanban/utils/KanbanAPI.js"
      - "**/assets/javascripts/kanban/utils/KeyboardShortcuts.js"
    severity: "block"
    token_threshold: 15000
    message: |
      ğŸ“‹ KanbanUIå®Ÿè£…å‰ã«æŠ€è¡“ä»•æ§˜æ›¸ã‚’ç¢ºèªã—ã¦ãã ã•ã„
      å¿…èª­: @vibes/logics/kanban_ui_implementation.md
      React+@dnd-kitæ´»ç”¨ã‚«ãƒ³ãƒãƒ³UIã®å®Ÿè£…è¦ä»¶ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’ç¶šã‘ã¦ãã ã•ã„

  # StateTransitionå®Ÿè£…è¦ç´„
  - name: "StateTransitionå®Ÿè£…è¦ç´„"
    patterns:
      - "**/app/models/kanban/column_status_mapping.rb"
      - "**/app/services/kanban/state_transition_service.rb"
      - "**/app/models/concerns/kanban/state_transition.rb"
      - "**/app/controllers/kanban/state_transitions_controller.rb"
      - "**/assets/javascripts/kanban/utils/StateTransitionAPI.js"
      - "**/assets/javascripts/kanban/components/TransitionPreviewModal.jsx"
    severity: "block"
    token_threshold: 15000
    message: |
      ğŸ“‹ StateTransitionå®Ÿè£…å‰ã«æŠ€è¡“ä»•æ§˜æ›¸ã‚’ç¢ºèªã—ã¦ãã ã•ã„
      å¿…èª­: @vibes/logics/state_transition_implementation.md
      ã‚«ãƒ©ãƒ ç§»å‹•æ™‚ã®çŠ¶æ…‹é·ç§»åˆ¶å¾¡ã®å®Ÿè£…è¦ä»¶ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’ç¶šã‘ã¦ãã ã•ã„

  # ValidationGuardå®Ÿè£…è¦ç´„
  - name: "ValidationGuardå®Ÿè£…è¦ç´„"
    patterns:
      - "**/app/models/kanban/release_guard_rules.rb"
      - "**/app/services/kanban/release_guard_service.rb"
      - "**/app/models/concerns/kanban/validation_guard.rb"
      - "**/app/controllers/kanban/validations_controller.rb"
      - "**/assets/javascripts/kanban/components/ValidationStatusBadge.jsx"
      - "**/assets/javascripts/kanban/components/ValidationDetailModal.jsx"
      - "**/assets/javascripts/kanban/utils/ValidationAPI.js"
    severity: "block"
    token_threshold: 15000
    message: |
      ğŸ“‹ ValidationGuardå®Ÿè£…å‰ã«æŠ€è¡“ä»•æ§˜æ›¸ã‚’ç¢ºèªã—ã¦ãã ã•ã„
      å¿…èª­: @vibes/logics/validation_guard_implementation.md
      ãƒªãƒªãƒ¼ã‚¹å‰3å±¤ã‚¬ãƒ¼ãƒ‰æ¤œè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…è¦ä»¶ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’ç¶šã‘ã¦ãã ã•ã„

  # APIIntegrationå®Ÿè£…è¦ç´„
  - name: "APIIntegrationå®Ÿè£…è¦ç´„"
    patterns:
      - "**/app/controllers/kanban/cards_controller.rb"
      - "**/app/controllers/concerns/kanban_api_concern.rb"
      - "**/app/services/kanban/kanban_data_builder.rb"
      - "**/assets/javascripts/kanban/services/KanbanAPIService.js"
      - "**/assets/javascripts/kanban/hooks/useKanbanAPI.js"
      - "**/assets/javascripts/kanban/utils/ErrorHandler.js"
      - "**/config/routes.rb"
    severity: "block"
    token_threshold: 15000
    message: |
      ğŸ“‹ APIIntegrationå®Ÿè£…å‰ã«æŠ€è¡“ä»•æ§˜æ›¸ã‚’ç¢ºèªã—ã¦ãã ã•ã„
      å¿…èª­: @vibes/logics/api_integration_implementation.md
      Redmineæ¨™æº–APIçµ±åˆã¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å°‚ç”¨APIã®å®Ÿè£…è¦ä»¶ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’ç¶šã‘ã¦ãã ã•ã„

  # Kanban Plugin Hookå®Ÿè£…è¦ç´„
  - name: "KanbanHookå®Ÿè£…è¦ç´„"
    patterns:
      - "**/lib/kanban/hooks/**/*.rb"
      - "**/lib/redmine_release_kanban/hooks/**/*.rb"
    severity: "block"
    token_threshold: 15000
    message: |
      ğŸ“‹ KanbanHookå®Ÿè£…å‰ã«é–¢é€£ã™ã‚‹æŠ€è¡“ä»•æ§˜æ›¸ã‚’ç¢ºèªã—ã¦ãã ã•ã„
      å¿…èª­: @vibes/logics/tracker_hierarchy_implementation.md
      å¿…èª­: @vibes/logics/auto_generation_implementation.md
      Redmine Hookã‚·ã‚¹ãƒ†ãƒ ã§ã®è‡ªå‹•åŒ–å®Ÿè£…è¦ä»¶ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’ç¶šã‘ã¦ãã ã•ã„

  # Kanban Plugin ãƒ†ã‚¹ãƒˆè¦ç´„
  - name: "KanbanTestå®Ÿè£…è¦ç´„"
    patterns:
      - "**/spec/services/kanban/**/*.rb"
      - "**/spec/models/kanban/**/*.rb"
      - "**/spec/controllers/kanban/**/*.rb"
      - "**/spec/requests/kanban/**/*.rb"
      - "**/spec/javascript/kanban/**/*.test.js"
      - "**/spec/javascript/kanban/**/*.test.jsx"
    severity: "block"
    token_threshold: 15000
    message: |
      ğŸ“‹ KanbanTestå®Ÿè£…å‰ã«å¯¾å¿œã™ã‚‹æŠ€è¡“ä»•æ§˜æ›¸ã¨ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã‚’ç¢ºèªã—ã¦ãã ã•ã„
      å¿…èª­: @vibes/docs/rules/testing/kanban_test_strategy.md
      å¿…èª­: å¯¾å¿œã™ã‚‹@vibes/logics/*_implementation.mdãƒ•ã‚¡ã‚¤ãƒ«
      è¿½åŠ ç¢ºèª: @vibes/docs/rules/controller_standards.md (Controllerå±¤ãƒ†ã‚¹ãƒˆæ™‚)
      è¿½åŠ ç¢ºèª: @vibes/docs/rules/service_standards.md (Serviceå±¤ãƒ†ã‚¹ãƒˆæ™‚)
      ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰åŸå‰‡ã¨å“è³ªåŸºæº–ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’ç¶šã‘ã¦ãã ã•ã„

  # Kanbanå°‚ç”¨Controllerè¦ç´„
  - name: "KanbanControllerå®Ÿè£…è¦ç´„"
    patterns:
      - "**/app/controllers/kanban/**/*.rb"
    severity: "block"
    token_threshold: 15000
    message: |
      ğŸ“‹ KanbanControllerå®Ÿè£…å‰ã«æŠ€è¡“ä»•æ§˜æ›¸ã¨åŸºæœ¬è¦ç´„ã‚’ç¢ºèªã—ã¦ãã ã•ã„
      å¿…èª­: @vibes/docs/rules/controller_standards.md
      å¿…èª­: @vibes/logics/api_integration_implementation.md
      å¿…èª­: å¯¾å¿œã™ã‚‹æ©Ÿèƒ½ã®@vibes/logics/*_implementation.mdãƒ•ã‚¡ã‚¤ãƒ«
      KanbanApiConcernã®æ´»ç”¨ã¨æ¨©é™åˆ¶å¾¡ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’ç¶šã‘ã¦ãã ã•ã„

  # Kanbanå°‚ç”¨Serviceè¦ç´„
  - name: "KanbanServiceå®Ÿè£…è¦ç´„"
    patterns:
      - "**/app/services/kanban/**/*.rb"
    severity: "block"
    token_threshold: 15000
    message: |
      ğŸ“‹ KanbanServiceå®Ÿè£…å‰ã«æŠ€è¡“ä»•æ§˜æ›¸ã¨åŸºæœ¬è¦ç´„ã‚’ç¢ºèªã—ã¦ãã ã•ã„
      å¿…èª­: @vibes/docs/rules/service_standards.md
      å¿…èª­: å¯¾å¿œã™ã‚‹æ©Ÿèƒ½ã®@vibes/logics/*_implementation.mdãƒ•ã‚¡ã‚¤ãƒ«
      å˜ä¸€è²¬ä»»åŸå‰‡ãƒ»æˆ»ã‚Šå€¤çµ±ä¸€ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¦ç´„ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’ç¶šã‘ã¦ãã ã•ã„

# ãƒ¡ã‚¿æƒ…å ±
meta:
  version: "1.0.0"
  updated_at: "2025-01-21"
  description: "ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ç·¨é›†è¦ç´„ã®ç´ä»˜ã‘å®šç¾©"
