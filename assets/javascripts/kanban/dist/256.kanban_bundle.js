"use strict";(self.webpackChunknested_grid_mockup=self.webpackChunknested_grid_mockup||[]).push([[256],{256:(e,t,s)=>{s.d(t,{worker:()=>u});var i=s(430),o=s(186),d=s(777),_=s(545);const r={entities:{epics:{epic1:{id:"epic1",subject:"施設・ユーザー管理",description:"施設情報とユーザーアカウントの管理機能",status:"open",fixed_version_id:null,feature_ids:["f1","f2"],statistics:{total_features:2,completed_features:0,total_user_stories:2,total_child_items:5,completion_percentage:20},created_on:"2025-01-15T09:00:00Z",updated_on:"2025-10-01T14:30:00Z",tracker_id:1},epic2:{id:"epic2",subject:"開診スケジュール",description:"診療スケジュールの登録・管理機能",status:"open",fixed_version_id:null,feature_ids:["f3","f4"],statistics:{total_features:2,completed_features:1,total_user_stories:2,total_child_items:4,completion_percentage:50},created_on:"2025-01-20T10:00:00Z",updated_on:"2025-09-28T16:45:00Z",tracker_id:1}},versions:{v1:{id:"v1",name:"Version-1",description:"初期リリース版",effective_date:"2025-12-31",status:"open",issue_count:50,statistics:{total_issues:50,completed_issues:30,completion_rate:60},created_on:"2025-01-10T08:00:00Z",updated_on:"2025-09-30T12:00:00Z"},v2:{id:"v2",name:"Version-2",description:"機能拡張版",effective_date:"2026-03-31",status:"open",issue_count:100,statistics:{total_issues:100,completed_issues:45,completion_rate:45},created_on:"2025-02-01T09:00:00Z",updated_on:"2025-09-29T15:30:00Z"},v3:{id:"v3",name:"Version-3",description:"将来リリース予定",effective_date:"2026-06-30",status:"open",issue_count:0,statistics:{total_issues:0,completed_issues:0,completion_rate:0},created_on:"2025-03-01T10:00:00Z",updated_on:"2025-03-01T10:00:00Z"}},features:{f1:{id:"f1",title:"登録画面",description:"新規ユーザー登録機能",status:"open",parent_epic_id:"epic1",user_story_ids:["us1"],fixed_version_id:"v1",version_source:"direct",statistics:{total_user_stories:1,completed_user_stories:0,total_child_items:4,child_items_by_type:{tasks:2,tests:1,bugs:1},completion_percentage:25},assigned_to_id:101,priority_id:2,created_on:"2025-02-10T11:00:00Z",updated_on:"2025-09-25T13:20:00Z",tracker_id:2},f2:{id:"f2",title:"一覧画面",description:"ユーザー一覧表示機能",status:"open",parent_epic_id:"epic1",user_story_ids:["us2"],fixed_version_id:"v1",version_source:"direct",statistics:{total_user_stories:1,completed_user_stories:0,total_child_items:1,child_items_by_type:{tasks:1,tests:0,bugs:0},completion_percentage:0},assigned_to_id:102,priority_id:2,created_on:"2025-02-12T14:00:00Z",updated_on:"2025-09-20T10:15:00Z",tracker_id:2},f3:{id:"f3",title:"編集画面",description:"ユーザー情報編集機能",status:"closed",parent_epic_id:"epic1",user_story_ids:["us3"],fixed_version_id:"v2",version_source:"direct",statistics:{total_user_stories:1,completed_user_stories:1,total_child_items:1,child_items_by_type:{tasks:1,tests:0,bugs:0},completion_percentage:100},assigned_to_id:101,priority_id:2,created_on:"2025-03-05T09:30:00Z",updated_on:"2025-08-15T16:00:00Z",tracker_id:2},f4:{id:"f4",title:"スケジュール登録",description:"診療スケジュール登録機能",status:"open",parent_epic_id:"epic2",user_story_ids:["us4"],fixed_version_id:"v2",version_source:"direct",statistics:{total_user_stories:1,completed_user_stories:0,total_child_items:2,child_items_by_type:{tasks:2,tests:0,bugs:0},completion_percentage:0},assigned_to_id:103,priority_id:3,created_on:"2025-03-10T13:00:00Z",updated_on:"2025-09-18T11:45:00Z",tracker_id:2}},user_stories:{us1:{id:"us1",title:"US#101 ユーザー登録フォーム",description:"ユーザー情報入力フォームの実装",status:"open",parent_feature_id:"f1",task_ids:["t1","t2"],test_ids:["test1"],bug_ids:["b1"],fixed_version_id:"v1",version_source:"inherited",expansion_state:!0,statistics:{total_tasks:2,completed_tasks:1,total_tests:1,passed_tests:0,total_bugs:1,resolved_bugs:0,completion_percentage:25},assigned_to_id:201,estimated_hours:16,done_ratio:25,created_on:"2025-02-15T10:00:00Z",updated_on:"2025-09-22T14:30:00Z",tracker_id:3},us2:{id:"us2",title:"US#102 ユーザー一覧表示",description:"ユーザー情報の一覧表示機能",status:"open",parent_feature_id:"f2",task_ids:["t3"],test_ids:[],bug_ids:[],fixed_version_id:"v1",version_source:"inherited",expansion_state:!1,statistics:{total_tasks:1,completed_tasks:0,total_tests:0,passed_tests:0,total_bugs:0,resolved_bugs:0,completion_percentage:0},assigned_to_id:202,estimated_hours:8,done_ratio:0,created_on:"2025-02-18T11:30:00Z",updated_on:"2025-09-15T09:00:00Z",tracker_id:3},us3:{id:"us3",title:"US#103 ユーザー編集機能",description:"ユーザー情報の更新機能",status:"closed",parent_feature_id:"f3",task_ids:["t4"],test_ids:[],bug_ids:[],fixed_version_id:"v2",version_source:"inherited",expansion_state:!1,statistics:{total_tasks:1,completed_tasks:1,total_tests:0,passed_tests:0,total_bugs:0,resolved_bugs:0,completion_percentage:100},assigned_to_id:201,estimated_hours:12,done_ratio:100,created_on:"2025-03-08T14:00:00Z",updated_on:"2025-08-12T17:30:00Z",tracker_id:3},us4:{id:"us4",title:"US#201 スケジュール登録画面",description:"診療スケジュール入力フォーム",status:"open",parent_feature_id:"f4",task_ids:["t5","t6"],test_ids:[],bug_ids:[],fixed_version_id:"v2",version_source:"inherited",expansion_state:!0,statistics:{total_tasks:2,completed_tasks:0,total_tests:0,passed_tests:0,total_bugs:0,resolved_bugs:0,completion_percentage:0},assigned_to_id:203,estimated_hours:20,done_ratio:0,created_on:"2025-03-12T15:30:00Z",updated_on:"2025-09-10T13:15:00Z",tracker_id:3}},tasks:{t1:{id:"t1",title:"バリデーション実装",description:"入力値のバリデーション処理実装",status:"open",parent_user_story_id:"us1",fixed_version_id:"v1",assigned_to_id:301,estimated_hours:4,spent_hours:3.5,done_ratio:80,created_on:"2025-02-20T09:00:00Z",updated_on:"2025-09-20T16:00:00Z",tracker_id:4},t2:{id:"t2",title:"UI設計完了",description:"登録フォームのUI設計",status:"closed",parent_user_story_id:"us1",fixed_version_id:"v1",assigned_to_id:302,estimated_hours:6,spent_hours:5,done_ratio:100,created_on:"2025-02-21T10:30:00Z",updated_on:"2025-08-25T14:00:00Z",tracker_id:4},t3:{id:"t3",title:"一覧API実装",description:"ユーザー一覧取得API実装",status:"open",parent_user_story_id:"us2",fixed_version_id:"v1",assigned_to_id:301,estimated_hours:5,spent_hours:0,done_ratio:0,created_on:"2025-02-22T11:00:00Z",updated_on:"2025-09-10T10:00:00Z",tracker_id:4},t4:{id:"t4",title:"編集フォーム作成",description:"ユーザー編集フォームの実装",status:"closed",parent_user_story_id:"us3",fixed_version_id:"v2",assigned_to_id:302,estimated_hours:8,spent_hours:7.5,done_ratio:100,created_on:"2025-03-10T13:00:00Z",updated_on:"2025-08-10T15:30:00Z",tracker_id:4},t5:{id:"t5",title:"カレンダーUI実装",description:"スケジュール選択カレンダーUI",status:"open",parent_user_story_id:"us4",fixed_version_id:"v2",assigned_to_id:303,estimated_hours:12,spent_hours:2,done_ratio:15,created_on:"2025-03-15T14:00:00Z",updated_on:"2025-09-05T11:30:00Z",tracker_id:4},t6:{id:"t6",title:"繰り返し設定機能",description:"定期スケジュール設定機能",status:"open",parent_user_story_id:"us4",fixed_version_id:"v2",assigned_to_id:304,estimated_hours:10,spent_hours:0,done_ratio:0,created_on:"2025-03-16T15:30:00Z",updated_on:"2025-09-01T09:00:00Z",tracker_id:4}},tests:{test1:{id:"test1",title:"単体テスト作成",description:"バリデーション機能の単体テスト",status:"open",parent_user_story_id:"us1",fixed_version_id:"v1",test_result:"pending",assigned_to_id:401,created_on:"2025-02-25T10:00:00Z",updated_on:"2025-09-12T13:00:00Z",tracker_id:5}},bugs:{b1:{id:"b1",title:"バリデーションエラー修正",description:"メールアドレス形式チェックの不具合",status:"open",parent_user_story_id:"us1",fixed_version_id:"v1",severity:"minor",assigned_to_id:301,created_on:"2025-09-18T16:30:00Z",updated_on:"2025-09-20T10:00:00Z",tracker_id:6}}},grid:{index:{"epic1:v1":["f1","f2"],"epic1:v2":["f3"],"epic1:v3":[],"epic1:none":[],"epic2:v1":[],"epic2:v2":["f4"],"epic2:v3":[],"epic2:none":[]},epic_order:["epic1","epic2"],version_order:["v1","v2","v3","none"]},metadata:{project:{id:1,name:"医療予約システム",identifier:"medical-reservation",description:"診療所向け予約管理システム",created_on:"2025-01-01T00:00:00Z"},user_permissions:{view_issues:!0,edit_issues:!0,add_issues:!0,delete_issues:!1,manage_versions:!1,manage_project:!1},grid_configuration:{default_expanded:!1,show_statistics:!0,show_closed_issues:!0,columns:[{id:"backlog",name:"バックログ",status_ids:[1],position:1},{id:"in_progress",name:"進行中",status_ids:[2,3],position:2},{id:"done",name:"完了",status_ids:[5],position:3}]},api_version:"v2",timestamp:(new Date).toISOString(),request_id:"req_mock_"+Math.random().toString(36).substring(7)},statistics:{overview:{total_issues:150,completed_issues:75,completion_rate:50,total_epics:2,total_features:4,total_user_stories:4},by_version:{v1:{total:50,completed:30,completion_rate:60,by_status:{open:15,in_progress:5,closed:30}},v2:{total:100,completed:45,completion_rate:45,by_status:{open:40,in_progress:15,closed:45}},v3:{total:0,completed:0,completion_rate:0,by_status:{open:0,in_progress:0,closed:0}}},by_status:{open:55,in_progress:20,closed:75},by_tracker:{Epic:2,Feature:4,UserStory:4,Task:6,Test:1,Bug:1},trend:{completion_history:[{date:"2025-09-01",completion_rate:40},{date:"2025-09-08",completion_rate:42.5},{date:"2025-09-15",completion_rate:45},{date:"2025-09-22",completion_rate:47.5},{date:"2025-09-29",completion_rate:50}],velocity:5.5}}};let a=JSON.parse(JSON.stringify(r)),n=(new Date).toISOString();const c=[o.L.get("/api/kanban/projects/:projectId/grid",async({params:e,request:t})=>{const s="true"===new URL(t.url).searchParams.get("include_closed");await(0,d.cb)(300);let i=JSON.parse(JSON.stringify(a));return s||(Object.keys(i.entities.features).forEach(e=>{"closed"===i.entities.features[e].status&&delete i.entities.features[e]}),Object.keys(i.grid.index).forEach(e=>{i.grid.index[e]=i.grid.index[e].filter(e=>i.entities.features[e])})),i.metadata.timestamp=(new Date).toISOString(),i.metadata.request_id=`req_${Math.random().toString(36).substring(7)}`,_.c.json(i)}),o.L.post("/api/kanban/projects/:projectId/grid/move_feature",async({request:e})=>{await(0,d.cb)(200);const t=await e.json(),{feature_id:s,target_epic_id:i,target_version_id:o}=t,r=a.entities.features[s];if(!r){const e={success:!1,error:{code:"not_found",message:`Feature ${s} not found`,details:{field:"feature_id"}},metadata:{timestamp:(new Date).toISOString(),request_id:`req_${Math.random().toString(36).substring(7)}`}};return _.c.json(e,{status:404})}if(!a.entities.epics[i]){const e={success:!1,error:{code:"not_found",message:`Epic ${i} not found`,details:{field:"target_epic_id"}},metadata:{timestamp:(new Date).toISOString(),request_id:`req_${Math.random().toString(36).substring(7)}`}};return _.c.json(e,{status:404})}const c=`${r.parent_epic_id}:${r.fixed_version_id||"none"}`;a.grid.index[c]=a.grid.index[c].filter(e=>e!==s);const u=`${i}:${o||"none"}`;a.grid.index[u]||(a.grid.index[u]=[]),a.grid.index[u].push(s),r.parent_epic_id=i,r.fixed_version_id=o,r.updated_on=(new Date).toISOString();const p=[];r.user_story_ids.forEach(e=>{const t=a.entities.user_stories[e];t&&(t.fixed_version_id=o,t.version_source="inherited",t.updated_on=(new Date).toISOString(),p.push(e),[...t.task_ids,...t.test_ids,...t.bug_ids].forEach(e=>{const t=a.entities.tasks[e],s=a.entities.tests[e],i=a.entities.bugs[e];t&&(t.fixed_version_id=o,t.updated_on=(new Date).toISOString(),p.push(e)),s&&(s.fixed_version_id=o,s.updated_on=(new Date).toISOString(),p.push(e)),i&&(i.fixed_version_id=o,i.updated_on=(new Date).toISOString(),p.push(e))}))}),n=(new Date).toISOString();const l={success:!0,updated_entities:{features:{[s]:r}},updated_grid_index:{[c]:a.grid.index[c],[u]:a.grid.index[u]},propagation_result:{affected_issue_ids:p,conflicts:[]}};return _.c.json(l)}),o.L.get("/api/kanban/projects/:projectId/grid/updates",async({request:e})=>{const t=new URL(e.url).searchParams.get("since");await(0,d.cb)(100);const s=!!t&&new Date(t)<new Date(n),i={updated_entities:s?{features:a.entities.features}:{},deleted_entities:{},grid_changes:s?{updated_cells:a.grid.index,removed_cells:[]}:void 0,current_timestamp:(new Date).toISOString(),has_changes:s};return _.c.json(i)}),o.L.post("/api/kanban/projects/:projectId/grid/reset",async()=>(a=JSON.parse(JSON.stringify(r)),n=(new Date).toISOString(),_.c.json({success:!0,message:"Mock data has been reset"})))],u=(0,i.k)(...c)}}]);