"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateredmine_epic_grid"]("main",{

/***/ "./assets/javascripts/epic_grid/src/App.tsx":
/*!**************************************************!*\
  !*** ./assets/javascripts/epic_grid/src/App.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   App: () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var _atlaskit_pragmatic_drag_and_drop_element_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @atlaskit/pragmatic-drag-and-drop/element/adapter */ \"./assets/javascripts/epic_grid/node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/entry-point/element/adapter.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./assets/javascripts/epic_grid/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_EpicVersion_EpicVersionGrid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/EpicVersion/EpicVersionGrid */ \"./assets/javascripts/epic_grid/src/components/EpicVersion/EpicVersionGrid.tsx\");\n/* harmony import */ var _components_FilterPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/FilterPanel */ \"./assets/javascripts/epic_grid/src/components/FilterPanel.tsx\");\n/* harmony import */ var _components_IssueDetail_DetailPane__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/IssueDetail/DetailPane */ \"./assets/javascripts/epic_grid/src/components/IssueDetail/DetailPane.tsx\");\n/* harmony import */ var _components_Layout_TripleSplitLayout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/Layout/TripleSplitLayout */ \"./assets/javascripts/epic_grid/src/components/Layout/TripleSplitLayout.tsx\");\n/* harmony import */ var _components_SidePanel_SidePanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/SidePanel/SidePanel */ \"./assets/javascripts/epic_grid/src/components/SidePanel/SidePanel.tsx\");\n/* harmony import */ var _components_Legend__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/Legend */ \"./assets/javascripts/epic_grid/src/components/Legend.tsx\");\n/* harmony import */ var _components_common_SearchBar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/common/SearchBar */ \"./assets/javascripts/epic_grid/src/components/common/SearchBar.tsx\");\n/* harmony import */ var _components_common_SettingsDropdown__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/common/SettingsDropdown */ \"./assets/javascripts/epic_grid/src/components/common/SettingsDropdown.tsx\");\n/* harmony import */ var _components_common_UnassignedHighlightToggle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/common/UnassignedHighlightToggle */ \"./assets/javascripts/epic_grid/src/components/common/UnassignedHighlightToggle.tsx\");\n/* harmony import */ var _components_common_UserStoryChildrenToggle__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/common/UserStoryChildrenToggle */ \"./assets/javascripts/epic_grid/src/components/common/UserStoryChildrenToggle.tsx\");\n/* harmony import */ var _store_useStore__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./store/useStore */ \"./assets/javascripts/epic_grid/src/store/useStore.ts\");\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./styles.scss */ \"./assets/javascripts/epic_grid/src/styles.scss\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst App = () => {\n    // Zustand storeã‹ã‚‰çŠ¶æ…‹ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å–å¾—\n    const fetchGridData = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.fetchGridData);\n    const isLoading = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.isLoading);\n    const error = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.error);\n    const projectId = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.projectId);\n    const selectedEntity = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.selectedEntity);\n    const isDetailPaneVisible = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.isDetailPaneVisible);\n    const isSideMenuVisible = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.isSideMenuVisible);\n    const toggleSideMenu = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.toggleSideMenu);\n    const isVerticalMode = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.isVerticalMode);\n    const reorderFeatures = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.reorderFeatures);\n    const reorderUserStories = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.reorderUserStories);\n    const moveUserStoryToCell = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.moveUserStoryToCell);\n    const reorderTasks = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.reorderTasks);\n    const reorderTests = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.reorderTests);\n    const reorderBugs = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.reorderBugs);\n    const reorderEpics = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.reorderEpics);\n    const reorderVersions = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.reorderVersions);\n    // Dirty stateç®¡ç†\n    const isDirty = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.isDirty);\n    const pendingChanges = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.pendingChanges);\n    const savePendingChanges = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.savePendingChanges);\n    const discardPendingChanges = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_12__.useStore)(state => state.discardPendingChanges);\n    // ä¿å­˜ä¸­çŠ¶æ…‹ã®ç®¡ç†\n    const [isSaving, setIsSaving] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(false);\n    // ä¿å­˜ãƒœã‚¿ãƒ³ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼\n    const handleSave = async () => {\n        setIsSaving(true);\n        try {\n            await savePendingChanges();\n            alert('âœ… å¤‰æ›´ã‚’ä¿å­˜ã—ã¾ã—ãŸ');\n        }\n        catch (error) {\n            alert(`âŒ ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ: ${error instanceof Error ? error.message : 'ä¸æ˜Žãªã‚¨ãƒ©ãƒ¼'}`);\n        }\n        finally {\n            setIsSaving(false);\n        }\n    };\n    // ç ´æ£„ãƒœã‚¿ãƒ³ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼\n    const handleDiscard = () => {\n        if (confirm('æœªä¿å­˜ã®å¤‰æ›´ã‚’ç ´æ£„ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) {\n            discardPendingChanges();\n        }\n    };\n    // ãƒšãƒ¼ã‚¸é›¢è„±æ™‚ã®è­¦å‘Š\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const handleBeforeUnload = (e) => {\n            if (isDirty) {\n                e.preventDefault();\n                e.returnValue = 'æœªä¿å­˜ã®å¤‰æ›´ãŒã‚ã‚Šã¾ã™ã€‚ãƒšãƒ¼ã‚¸ã‚’é›¢ã‚Œã¾ã™ã‹ï¼Ÿ';\n            }\n        };\n        window.addEventListener('beforeunload', handleBeforeUnload);\n        return () => window.removeEventListener('beforeunload', handleBeforeUnload);\n    }, [isDirty]);\n    // åˆæœŸãƒ‡ãƒ¼ã‚¿å–å¾—\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        // data-project-idå±žæ€§ã‹ã‚‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDã‚’å–å¾—\n        const rootElement = document.getElementById('kanban-root');\n        const dataProjectId = rootElement?.getAttribute('data-project-id') || '1';\n        console.log('ðŸ“Š Loading grid for project ID:', dataProjectId);\n        fetchGridData(dataProjectId);\n    }, [fetchGridData]);\n    // ç¸¦æ›¸ããƒ¢ãƒ¼ãƒ‰æ™‚ã«kanban-rootã«vertical-modeã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ \n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const rootElement = document.getElementById('kanban-root');\n        if (!rootElement)\n            return;\n        if (isVerticalMode) {\n            rootElement.classList.add('vertical-mode');\n        }\n        else {\n            rootElement.classList.remove('vertical-mode');\n        }\n    }, [isVerticalMode]);\n    // ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªãƒ‰ãƒ­ãƒƒãƒ—ã‚¤ãƒ™ãƒ³ãƒˆç›£è¦–\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        return (0,_atlaskit_pragmatic_drag_and_drop_element_adapter__WEBPACK_IMPORTED_MODULE_0__.monitorForElements)({\n            onDrop: ({ source, location }) => {\n                console.log('ðŸŒ Global drop detected:', { source: source.data, location });\n                const sourceType = source.data.type;\n                const sourceId = source.data.id;\n                // dropTargetãŒå­˜åœ¨ã™ã‚‹å ´åˆã®ã¿å‡¦ç†\n                const dropTargets = location.current.dropTargets;\n                if (dropTargets.length === 0)\n                    return;\n                // æœ€ã‚‚å†…å´ã®dropTargetã‚’å–å¾—\n                const targetData = dropTargets[0].data;\n                const targetType = targetData.type;\n                const targetId = targetData.id;\n                console.log('ðŸŽ¯ Reordering:', { sourceType, sourceId, targetType, targetId, targetData });\n                // åŒã˜ã‚¿ã‚¤ãƒ—åŒå£«ã®ã¿ä¸¦ã³æ›¿ãˆå¯èƒ½\n                if (sourceType !== targetType) {\n                    console.warn('âš ï¸ Cannot reorder different types');\n                    return;\n                }\n                // AddButtonã¸ã®ãƒ‰ãƒ­ãƒƒãƒ—å‡¦ç†ï¼ˆçœŸä¸‹ã«é…ç½®ï¼‰\n                if (targetData.isAddButton) {\n                    console.log('ðŸ“¦ Drop on AddButton:', targetData);\n                    // UserStoryã®AddButton/Cellã¸ã®ãƒ‰ãƒ­ãƒƒãƒ—ã¯ EpicVersionGrid.tsx ã® onDrop ã§å‡¦ç†ã•ã‚Œã‚‹\n                    if (sourceType === 'user-story' && targetType === 'user-story') {\n                        console.log('â„¹ï¸ UserStory drop on AddButton will be handled by EpicVersionGrid onDrop');\n                        return;\n                    }\n                    return;\n                }\n                // ã‚»ãƒ«ã¸ã®ãƒ‰ãƒ­ãƒƒãƒ—å‡¦ç†ï¼ˆç§»å‹•ï¼‰\n                if (targetId.startsWith('cell-')) {\n                    console.log('ðŸ“¦ Drop on cell:', targetData);\n                    // UserStoryã®Cellã¸ã®ãƒ‰ãƒ­ãƒƒãƒ—ã¯ EpicVersionGrid.tsx ã® onDrop ã§å‡¦ç†ã•ã‚Œã‚‹\n                    if (sourceType === 'user-story' && targetData.cellType === 'us-cell') {\n                        console.log('â„¹ï¸ UserStory drop on cell will be handled by EpicVersionGrid onDrop');\n                        return;\n                    }\n                    return;\n                }\n                // ã‚¿ã‚¤ãƒ—åˆ¥ã«ä¸¦ã³æ›¿ãˆå‡¦ç†ï¼ˆZustandã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‘¼ã³å‡ºã—ï¼‰\n                console.log('ðŸ” About to call reorder function:', { sourceType, sourceId, targetId });\n                if (sourceType === 'feature-card') {\n                    console.log('ðŸ” Calling reorderFeatures...');\n                    reorderFeatures(sourceId, targetId, targetData);\n                    console.log('ðŸ” reorderFeatures called');\n                }\n                else if (sourceType === 'user-story') {\n                    console.log('ðŸ” Calling reorderUserStories...');\n                    reorderUserStories(sourceId, targetId, targetData);\n                    console.log('ðŸ” reorderUserStories called');\n                }\n                else if (sourceType === 'task') {\n                    console.log('ðŸ” Calling reorderTasks...');\n                    reorderTasks(sourceId, targetId, targetData);\n                    console.log('ðŸ” reorderTasks called');\n                }\n                else if (sourceType === 'test') {\n                    console.log('ðŸ” Calling reorderTests...');\n                    reorderTests(sourceId, targetId, targetData);\n                    console.log('ðŸ” reorderTests called');\n                }\n                else if (sourceType === 'bug') {\n                    console.log('ðŸ” Calling reorderBugs...');\n                    reorderBugs(sourceId, targetId, targetData);\n                    console.log('ðŸ” reorderBugs called');\n                }\n                else if (sourceType === 'epic') {\n                    console.log('ðŸ” Calling reorderEpics...');\n                    reorderEpics(sourceId, targetId, targetData);\n                    console.log('ðŸ” reorderEpics called');\n                }\n                else if (sourceType === 'version') {\n                    console.log('ðŸ” Calling reorderVersions...');\n                    reorderVersions(sourceId, targetId, targetData);\n                    console.log('ðŸ” reorderVersions called');\n                }\n            }\n        });\n    }, [reorderFeatures, reorderUserStories, reorderTasks, reorderTests, reorderBugs, reorderEpics, reorderVersions]);\n    if (isLoading) {\n        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"loading\" }, \"Loading grid data...\");\n    }\n    if (error) {\n        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"error\" },\n            \"Error: \",\n            error);\n    }\n    // å¤‰æ›´ä»¶æ•°ã®ã‚«ã‚¦ãƒ³ãƒˆ\n    const changesCount = pendingChanges.movedUserStories.length +\n        (pendingChanges.reorderedEpics ? 1 : 0) +\n        (pendingChanges.reorderedVersions ? 1 : 0);\n    // ã‚«ãƒ³ãƒãƒ³ã‚°ãƒªãƒƒãƒ‰éƒ¨åˆ†\n    const kanbanContent = (react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null,\n        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"kanban-header\" },\n            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"kanban-header__container\" },\n                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"kanban-header__controls\" },\n                    isDirty && (react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null,\n                        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"button\", { onClick: handleSave, disabled: isSaving, className: \"eg-button eg-button--success eg-button--lg\" }, isSaving ? 'ä¿å­˜ä¸­...' : `ðŸ’¾ ä¿å­˜ (${changesCount}ä»¶)`),\n                        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"button\", { onClick: handleDiscard, disabled: isSaving, className: \"eg-button eg-button--danger eg-button--lg\" }, \"\\u2716 \\u7834\\u68C4\"))),\n                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"button\", { onClick: toggleSideMenu, className: `eg-button eg-button--lg ${isSideMenuVisible ? 'eg-button--primary' : 'eg-button--secondary'}`, title: \"\\u30B5\\u30A4\\u30C9\\u30E1\\u30CB\\u30E5\\u30FC\\u3092\\u958B\\u304F\" }, \"\\u2630 \\u30E1\\u30CB\\u30E5\\u30FC\"),\n                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_FilterPanel__WEBPACK_IMPORTED_MODULE_3__.FilterPanel, null),\n                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_common_SearchBar__WEBPACK_IMPORTED_MODULE_8__.SearchBar, null),\n                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_common_UserStoryChildrenToggle__WEBPACK_IMPORTED_MODULE_11__.UserStoryChildrenToggle, null),\n                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_common_UnassignedHighlightToggle__WEBPACK_IMPORTED_MODULE_10__.UnassignedHighlightToggle, null)),\n                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_common_SettingsDropdown__WEBPACK_IMPORTED_MODULE_9__.SettingsDropdown, null))),\n        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_EpicVersion_EpicVersionGrid__WEBPACK_IMPORTED_MODULE_2__.EpicVersionGrid, null),\n        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_Legend__WEBPACK_IMPORTED_MODULE_7__.Legend, null)));\n    // 3ãƒšã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®åˆ¤å®š\n    const needsTripleSplit = isSideMenuVisible || isDetailPaneVisible;\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"app-container\" }, needsTripleSplit ? (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_Layout_TripleSplitLayout__WEBPACK_IMPORTED_MODULE_5__.TripleSplitLayout, { leftPane: react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_SidePanel_SidePanel__WEBPACK_IMPORTED_MODULE_6__.SidePanel, null), centerPane: kanbanContent, rightPane: react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_IssueDetail_DetailPane__WEBPACK_IMPORTED_MODULE_4__.DetailPane, { entity: selectedEntity, projectId: projectId }), isLeftPaneVisible: isSideMenuVisible, isRightPaneVisible: isDetailPaneVisible })) : (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"kanban-fullscreen\" }, kanbanContent))));\n};\n\n\n//# sourceURL=webpack://redmine_epic_grid/./assets/javascripts/epic_grid/src/App.tsx?\n}");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("4806a6380b87a0e8596b")
/******/ })();
/******/ 
/******/ }
);