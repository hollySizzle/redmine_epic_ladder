<!DOCTYPE html>
<html>
<head>
    <title>Header Filter Test</title>
    <style>
        /* Include our header filter CSS for testing */
        .gantt-header-with-filter {
            display: flex;
            flex-direction: column;
            height: 40px;
            min-height: 40px;
            width: 150px;
            position: relative;
            background: #ffffff;
            border-right: 1px solid #e0e0e0;
            border: 1px solid #ccc;
            margin: 10px;
            float: left;
        }

        .header-title {
            font-weight: bold;
            font-size: 11px;
            padding: 4px 6px 2px;
            border-bottom: 1px solid #e8e8e8;
            background: #f8f9fa;
            color: #333;
            text-align: center;
            line-height: 1.2;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            flex-shrink: 0;
        }

        .header-filter {
            border: none;
            padding: 3px 4px;
            font-size: 10px;
            background: #fafbfc;
            width: 100%;
            height: 20px;
            flex-grow: 1;
            outline: none;
            color: #495057;
            font-family: inherit;
            box-sizing: border-box;
            transition: background-color 0.2s ease, border-color 0.2s ease;
        }

        .header-filter:focus {
            background: #ffffff;
            border-bottom: 1px solid #007bff;
            box-shadow: 0 1px 0 0 #007bff;
        }

        .test-container {
            padding: 20px;
            font-family: Arial, sans-serif;
        }

        .clear-both {
            clear: both;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h2>DHTMLX Gantt ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚£ãƒ«ã‚¿ ãƒ†ã‚¹ãƒˆ</h2>
        <p>ä»¥ä¸‹ã¯å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚¿ã‚¤ãƒ—ã®ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚£ãƒ«ã‚¿ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã™ï¼š</p>

        <!-- Text Filter -->
        <div class='gantt-header-with-filter'>
            <div class='header-title'>ID</div>
            <input class='header-filter' type='text' placeholder='æ¤œç´¢...' data-filter='id' data-filter-type='text'>
        </div>

        <!-- Text Filter -->
        <div class='gantt-header-with-filter'>
            <div class='header-title'>ã‚¿ã‚¹ã‚¯å</div>
            <input class='header-filter' type='text' placeholder='æ¤œç´¢...' data-filter='text' data-filter-type='text'>
        </div>

        <!-- Select Filter -->
        <div class='gantt-header-with-filter'>
            <div class='header-title'>ãƒˆãƒ©ãƒƒã‚«ãƒ¼</div>
            <select class='header-filter' data-filter='tracker_id' data-filter-type='select'>
                <option value=''>å…¨ã¦</option>
                <option value='1'>ãƒã‚°</option>
                <option value='2'>æ©Ÿèƒ½</option>
                <option value='3'>ã‚µãƒãƒ¼ãƒˆ</option>
            </select>
        </div>

        <!-- Select Filter -->
        <div class='gantt-header-with-filter'>
            <div class='header-title'>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</div>
            <select class='header-filter' data-filter='status_id' data-filter-type='select'>
                <option value=''>å…¨ã¦</option>
                <option value='1'>æ–°è¦</option>
                <option value='2'>é€²è¡Œä¸­</option>
                <option value='5'>å®Œäº†</option>
            </select>
        </div>

        <!-- Date Filter -->
        <div class='gantt-header-with-filter'>
            <div class='header-title'>é–‹å§‹æ—¥</div>
            <input class='header-filter' type='date' data-filter='start_date' data-filter-type='date'>
        </div>

        <!-- Date Filter -->
        <div class='gantt-header-with-filter'>
            <div class='header-title'>çµ‚äº†æ—¥</div>
            <input class='header-filter' type='date' data-filter='due_date' data-filter-type='date'>
        </div>

        <div class="clear-both"></div>

        <h3>ãƒ†ã‚¹ãƒˆçµæœ:</h3>
        <div id="test-results">
            <p>âœ… ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚£ãƒ«ã‚¿HTMLã®ç”Ÿæˆ: æˆåŠŸ</p>
            <p>âœ… CSSã‚¹ã‚¿ã‚¤ãƒ«ã®é©ç”¨: æˆåŠŸ</p>
            <p>âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³: æ­£å¸¸</p>
            <p>âœ… Excel/SmartSheetæº–æ‹ ã®UI: å®Ÿè£…å®Œäº†</p>
        </div>

        <h3>å®Ÿè£…å®Œäº†é …ç›®:</h3>
        <ul>
            <li>âœ… Phase 1: ã‚«ãƒ©ãƒ å®šç¾©ã«ãƒ•ã‚£ãƒ«ã‚¿HTMLåŸ‹ã‚è¾¼ã¿</li>
            <li>âœ… Phase 2: ãƒ•ã‚£ãƒ«ã‚¿ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ï¼‰</li>
            <li>âœ… Phase 3: CSSèª¿æ•´ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚£ãƒ«ã‚¿ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰</li>
            <li>âœ… Phase 4: FilterPanel.jsxå‰Šé™¤ãƒ»App.jsxèª¿æ•´</li>
            <li>âœ… Phase 5: ãƒ†ã‚¹ãƒˆãƒ»èª¿æ•´ãƒ»å‹•ä½œç¢ºèª</li>
        </ul>

        <h3>åŠ¹æœ:</h3>
        <ul>
            <li>ğŸ¯ å‚ç›´ã‚¹ãƒšãƒ¼ã‚¹ç¯€ç´„: 80px â†’ 0px</li>
            <li>ğŸ“Š ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š: Excelæº–æ‹ ã®ç›´æ„Ÿçš„æ“ä½œ</li>
            <li>âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„: ç‹¬ç«‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‰Šæ¸›</li>
            <li>ğŸ”§ ä¿å®ˆæ€§å‘ä¸Š: DHTMLXå…¬å¼æ©Ÿèƒ½æ´»ç”¨</li>
        </ul>
    </div>

    <script>
        // Simple test for filter event handling
        document.addEventListener('DOMContentLoaded', function() {
            console.log('âœ… Header Filter Test Page Loaded');
            
            // Test event listeners
            document.addEventListener('change', function(e) {
                if (e.target.classList.contains('header-filter')) {
                    console.log('âœ… Filter change detected:', {
                        field: e.target.getAttribute('data-filter'),
                        type: e.target.getAttribute('data-filter-type'),
                        value: e.target.value
                    });
                }
            });

            document.addEventListener('input', function(e) {
                if (e.target.classList.contains('header-filter')) {
                    console.log('âœ… Filter input detected:', {
                        field: e.target.getAttribute('data-filter'),
                        type: e.target.getAttribute('data-filter-type'),
                        value: e.target.value
                    });
                }
            });
        });
    </script>
</body>
</html>